#!/bin/bash

echo "=== ГЛУБОКАЯ ПРОВЕРКА ТЕКСТА ==="
echo ""

# 1. Проверяем все возможные грамматические ошибки
echo "1. ПРОВЕРКА ПАДЕЖЕЙ И СОГЛАСОВАНИЙ:"
echo "------------------------"

# Ищем неправильные конструкции с "получение" и творительным падежом
grep -rn "получение.*ией\|получение.*ом\|получение.*ами" *.html

# 2. Проверяем логические ошибки в предложениях
echo ""
echo "2. ЛОГИЧЕСКИЕ ОШИБКИ:"
echo "------------------------"

# Ищем предложения с неправильной логикой
grep -rn "мы получаем.*вы получаете\|получаем.*получите" *.html

# 3. Проверяем повторы и тавтологии
echo ""
echo "3. ПОВТОРЫ И ТАВТОЛОГИИ:"
echo "------------------------"

# Ищем повторяющиеся слова в одном предложении
grep -rn "получение получение\|помощь помощь\|процесс процесс" *.html

# 4. Проверяем неправильные конструкции с союзами
echo ""
echo "4. НЕПРАВИЛЬНЫЕ КОНСТРУКЦИИ С СОЮЗАМИ:"
echo "------------------------"

# Ищем неправильные конструкции типа "получаем, и помощь"
grep -rn "получаем.*,.*и.*[а-я]*цией\|получаем.*,.*и.*[а-я]*ом" *.html

# 5. Проверяем согласование времен
echo ""
echo "5. СОГЛАСОВАНИЕ ВРЕМЕН:"
echo "------------------------"

# Ищем смешение времен в одном предложении
grep -rn "получаем.*получите\|получим.*получаете\|получили.*получаем" *.html

# 6. Проверяем неправильное использование предлогов
echo ""
echo "6. ПРЕДЛОГИ:"
echo "------------------------"

# Ищем неправильные предлоги
grep -rn "помощь в адаптации\|помощь по адаптации\|помощь на адаптации" *.html

# 7. Проверяем незаконченные мысли
echo ""
echo "7. НЕЗАКОНЧЕННЫЕ МЫСЛИ:"
echo "------------------------"

# Ищем предложения, которые обрываются на союзах
grep -rn "\. и$\|\. с$\|\. в$\|\. на$\|\. по$" *.html

echo ""
echo "=== КОНЕЦ ГЛУБОКОЙ ПРОВЕРКИ ==="
