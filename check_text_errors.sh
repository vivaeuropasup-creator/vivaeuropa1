#!/bin/bash

echo "=== ПРОВЕРКА ТЕКСТОВЫХ ОШИБОК ==="
echo ""

# 1. Проверяем дубли слов
echo "1. ДУБЛИ СЛОВ:"
echo "------------------------"
grep -h -o '\b\w\+\s\+\1\b' *.html | sort | uniq | head -10

# 2. Проверяем незаконченные предложения
echo ""
echo "2. НЕЗАКОНЧЕННЫЕ ПРЕДЛОЖЕНИЯ:"
echo "------------------------"
grep -n "и другими вопросами" *.html
grep -n "and other post-approval" *.html

# 3. Проверяем противоречия в тексте
echo ""
echo "3. ПРОТИВОРЕЧИЯ В ТЕКСТЕ:"
echo "------------------------"
echo "Испания vs Европа:"
grep -c "путь в Испанию" *.html | grep -v ":0$"
grep -c "path to Spain" *.html | grep -v ":0$"

# 4. Проверяем даты
echo ""
echo "4. ПРОВЕРКА ДАТ:"
echo "------------------------"
grep -h "202[0-9]" *.html | grep -v "2024 VivaEuropa" | grep -v "2020–2025" | grep -v "2020-2025" | head -10

# 5. Проверяем форматирование цен
echo ""
echo "5. ФОРМАТИРОВАНИЕ ЦЕН:"
echo "------------------------"
grep -E "[0-9] €|€ [0-9]|[0-9],€|€,[0-9]" *.html | head -10

echo ""
echo "=== КОНЕЦ ПРОВЕРКИ ==="
